<!DOCTYPE html>
<html lang="ru">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Outventure</title>
        <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    </head>
    <body>
        <div class="wrapper">
            <div class="slider">
                <div class="slider-top">
                    <div class="top-controls">
                        <button class="top-btn">1 <span class="top-label">Разминка</span></button>
                        <button class="top-btn inactive">2 <span class="top-label">Хайкинг</span></button>
                        <button class="top-btn inactive">3 <span class="top-label">Заминка</span></button>
                        <div class="swipe-icon top-swipe">
                            <img src="assets/images/swipe.png" alt="" />
                        </div>

                        <div class="params top-params">
                            <h3 class="params-title">Длительность:</h3>
                            <ul>
                                <li>~60 мин. наверх;</li>
                                <li>~30 мин. вниз.</li>
                            </ul>
                            <h3 class="params-level">Сложность: 2/5</h3>
                        </div>
                    </div>

                    <div class="top-content">
                        <div class="top-info">
                            <h2 class="top-title">Разминка. Торгашинский хребет</h2>
                            <p class="top-desc">
                                Спросите сибиряка, что стоит посетить в Красноярске, и он назовёт это место. На вершине хребта можно увидеть
                                столицу большого края с высоты птичьего полёта. Нужно только преодолеть 1683 ступени самой длинной в России
                                лестницы, а затем ещё немного подняться по грунту. Идеально после длительного перелёта. Вдохновляюще перед
                                полнодневным хайком.
                            </p>
                        </div>
                        <div class="top-images">
                            <div class="top-marker">
                                <img src="assets/images/bg/marker-top.png" alt="" />
                            </div>
                            <div x-data="{ animate: false }" class="top-image-group">
                                <div class="top-image left-img"
                                    :class="{'animate': animate}">
                                    <img src="assets/images/top/top-1.webp" alt="" />
                                </div>
                                <div
                                    class="top-image right-img"
                                    :class="{'animate': animate}"
                                    @mouseover="animate = false"
                                    @mouseleave="animate = true"
                                >
                                    <img src="assets/images/top/top-2.webp" alt="" />
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="params bottom-params">
                        <h3 class="params-level">Сложность: 2/5</h3>
                        <div>
                            <h3 class="params-title">Длительность:</h3>
                            <ul>
                                <li>~60 мин. наверх;</li>
                                <li>~30 мин. вниз.</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div x-data="carousel()" class="slider-bottom">
                    <!-- Image container -->
                    <div class="bottom-images">
                        <div class="bottom-marker">
                            <img src="assets/images/bg/marker-bottom.png" alt="" />
                        </div>
                
                        <!-- Image group -->
                        <div class="bottom-image-group">
                            <template x-for="(image, index) in images" :key="index">
                                <div 
                                    class="bottom-image" 
                                    :class="{
                                        'prev-img': index < currentIndex,
                                        'current-img': index === currentIndex,
                                        'next-img': index > currentIndex
                                    }"
                                >
                                    <div class="thumb small-img">
                                        <img :src="image.small" alt="">
                                    </div>
                                    <div class="thumb large-img">
                                        <img :src="image.large" alt="">
                                    </div>
                                </div>
                            </template>
                        </div>
                    </div>
                
                    <!-- Carousel Controls -->
                    <div class="bottom-container">
                        <div class="bottom-info">
                            <div class="bottom-headline">
                                <h3>Как экипироваться</h3>
                                <h3 x-text="`${currentIndex + 1} / ${images.length}`"></h3>
                            </div>
                
                            <div class="bottom-desc">
                                Непродуваемая куртка с суперлегким утеплителем Zero Down и водоотталкивающей пропиткой ADD SHIELD.
                            </div>
                        </div>
                
                        <div class="bottom-controls">
                            <div class="bottom-left">
                                <div class="swipe-icon bottom-swipe">
                                    <img src="assets/images/swipe.png" alt="">
                                </div>
                                <button class="slide-btn slide-btn--active">1</button>
                                <button class="slide-btn">2</button>
                                <button class="slide-btn">3</button>

                            </div>
                
                            <div class="bottom-right">
                                <!-- Prev Button -->
                                <button 
                                    class="carousel-btn prev-btn" 
                                    @click="prevImage"
                                    :disabled="currentIndex === 0"
                                >
                                    <img src="assets/svgs/prev-btn.svg" alt="">
                                </button>
                
                                <!-- Next Button -->
                                <button 
                                    class="carousel-btn next-btn" 
                                    @click="nextImage"
                                    :disabled="currentIndex === images.length - 1"
                                >
                                    <img src="assets/svgs/next-btn.svg" alt="">
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <script>
                    document.addEventListener('alpine:init', () => {
                        Alpine.data('carousel', () => ({
                            images: [
                                {
                                    small: 'assets/images/small/small-1.webp',
                                    large: 'assets/images/bottom/bottom-1.webp'
                                },
                                {
                                    small: 'assets/images/small/small-2.webp',
                                    large: 'assets/images/bottom/bottom-2.webp'
                                },
                                {
                                    small: 'assets/images/small/small-3.webp',
                                    large: 'assets/images/bottom/bottom-3.webp'
                                }
                            ],
                            currentIndex: 0,
                
                            // Move to the previous image
                            prevImage() {
                                if (this.currentIndex > 0) {
                                    this.currentIndex--;
                                }
                            },
                
                            // Move to the next image
                            nextImage() {
                                if (this.currentIndex < this.images.length - 1) {
                                    this.currentIndex++;
                                }
                            }
                        }));
                    });
                </script>
                
            </div>
        </div>
    </body>
</html>
